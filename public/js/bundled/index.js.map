{"mappings":"A,Q,mB,I,E,Q,SGEO,MAAM,EAAY,KACvB,IAAM,EAAK,SAAS,aAAa,CAAC,UAC9B,GAAI,EAAG,aAAa,CAAC,WAAW,CAAC,EACvC,EAGa,EAAY,CAAC,EAAM,KAC9B,IACA,IAAM,EAAS,CAAC,yBAAyB,EAAE,EAAK,EAAE,EAAE,EAAI,MAAM,CAAC,CAC/D,SAAS,aAAa,CAAC,QAAQ,kBAAkB,CAAC,aAAc,GAChE,OAAO,UAAU,CAAC,EAAW,IAC/B,EDTa,EAAQ,MAAO,EAAO,KACjC,GAAI,CACF,IAAM,EAAM,MAAM,A,C,AAAA,G,AAAA,E,U,C,AAAA,E,O,CAAA,C,EAAM,CACtB,OAAQ,OACR,IAAK,2CACL,KAAM,CACJ,MAAA,EACA,SAAA,CACF,CACF,EAEwB,CAAA,YAApB,EAAI,IAAI,CAAC,MAAM,GACjB,AAAA,EAAU,UAAW,2BACrB,OAAO,UAAU,CAAC,KAChB,SAAS,MAAM,CAAC,IAClB,EAAG,MAEP,CAAE,MAAO,EAAK,CACZ,AAAA,EAAU,QAAS,EAAI,QAAQ,CAAC,IAAI,CAAC,OAAO,CAC9C,CACF,EDnBM,EAAY,SAAS,aAAa,CAAC,SAKrC,GACF,EAAU,gBAAgB,CAAC,SAAU,AAAC,IACpC,EAAE,cAAc,GAIhB,AAAA,EAFc,SAAS,cAAc,CAAC,SAAS,KAAK,CACnC,SAAS,cAAc,CAAC,YAAY,KAAK,CAE5D","sources":["<anon>","public/js/index.js","public/js/login.js","public/js/alerts.js"],"sourcesContent":["require(\"@babel/polyfill\");\nvar $cnf0l$axios = require(\"axios\");\n\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n/* eslint-disable */ \n/* eslint-disabled */ \n/* eslint-disable */ const $7dc87b7f457e655a$export$516836c6a9dfc573 = ()=>{\n    const el = document.querySelector(\".alert\");\n    if (el) el.parentElement.removeChild(el);\n};\nconst $7dc87b7f457e655a$export$de026b00723010c1 = (type, msg)=>{\n    $7dc87b7f457e655a$export$516836c6a9dfc573();\n    const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\n    document.querySelector(\"body\").insertAdjacentHTML(\"afterbegin\", markup);\n    window.setTimeout($7dc87b7f457e655a$export$516836c6a9dfc573, 5000);\n};\n\n\nconst $bf5b431e6a69fea8$export$596d806903d1f59e = async (email, password)=>{\n    try {\n        const res = await (0, ($parcel$interopDefault($cnf0l$axios)))({\n            method: \"POST\",\n            url: \"http://localhost:5000/api/v1/users/login\",\n            data: {\n                email: email,\n                password: password\n            }\n        });\n        if (res.data.status === \"success\") {\n            (0, $7dc87b7f457e655a$export$de026b00723010c1)(\"success\", \"Logged in successfully!\");\n            window.setTimeout(()=>{\n                location.assign(\"/\");\n            }, 1500);\n        }\n    } catch (err) {\n        (0, $7dc87b7f457e655a$export$de026b00723010c1)(\"error\", err.response.data.message);\n    }\n};\nconst $bf5b431e6a69fea8$export$a0973bcfe11b05c9 = async ()=>{\n    try {\n        const res = await (0, ($parcel$interopDefault($cnf0l$axios)))({\n            method: \"GET\",\n            url: \"http://127.0.0.1:3000/api/v1/users/logout\"\n        });\n        res.data.status = \"success\";\n        location.reload(true);\n    } catch (err) {\n        console.log(err.response);\n        (0, $7dc87b7f457e655a$export$de026b00723010c1)(\"error\", \"Error logging out! Try again.\");\n    }\n};\n\n\n//DOM ELEMENTS\nconst $407eccdc61ba7a94$var$loginForm = document.querySelector(\".form\");\n// VALUES\n//DELEGATION\nif ($407eccdc61ba7a94$var$loginForm) $407eccdc61ba7a94$var$loginForm.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    const email = document.getElementById(\"email\").value;\n    const password = document.getElementById(\"password\").value;\n    (0, $bf5b431e6a69fea8$export$596d806903d1f59e)(email, password);\n});\n\n\n//# sourceMappingURL=index.js.map\n","/* eslint-disable */\nimport '@babel/polyfill';\nimport { login } from './login';\n\n//DOM ELEMENTS\nconst loginForm = document.querySelector('.form');\n\n// VALUES\n\n//DELEGATION\nif (loginForm) {\n  loginForm.addEventListener('submit', (e) => {\n    e.preventDefault();\n\n    const email = document.getElementById('email').value;\n    const password = document.getElementById('password').value;\n    login(email, password);\n  });\n}\n","/* eslint-disabled */\nimport axios from 'axios';\nimport { showAlert } from './alerts.js';\n\nexport const login = async (email, password) => {\n  try {\n    const res = await axios({\n      method: 'POST',\n      url: 'http://localhost:5000/api/v1/users/login',\n      data: {\n        email,\n        password,\n      },\n    });\n\n    if (res.data.status === 'success') {\n      showAlert('success', 'Logged in successfully!');\n      window.setTimeout(() => {\n        location.assign('/');\n      }, 1500);\n    }\n  } catch (err) {\n    showAlert('error', err.response.data.message);\n  }\n};\n\nexport const logout = async () => {\n  try {\n    const res = await axios({\n      method: 'GET',\n      url: 'http://127.0.0.1:3000/api/v1/users/logout',\n    });\n    if ((res.data.status = 'success')) location.reload(true);\n  } catch (err) {\n    console.log(err.response);\n    showAlert('error', 'Error logging out! Try again.');\n  }\n};\n","/* eslint-disable */\n\nexport const hideAlert = () => {\n  const el = document.querySelector('.alert');\n  if (el) el.parentElement.removeChild(el);\n};\n\n// type is 'success' or 'error'\nexport const showAlert = (type, msg) => {\n  hideAlert();\n  const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\n  document.querySelector('body').insertAdjacentHTML('afterbegin', markup);\n  window.setTimeout(hideAlert, 5000);\n};\n"],"names":["require","$cnf0l$axios","$7dc87b7f457e655a$export$516836c6a9dfc573","el","document","querySelector","parentElement","removeChild","$7dc87b7f457e655a$export$de026b00723010c1","type","msg","markup","insertAdjacentHTML","window","setTimeout","$bf5b431e6a69fea8$export$596d806903d1f59e","email","password","res","a","__esModule","default","method","url","data","status","location","assign","err","response","message","$407eccdc61ba7a94$var$loginForm","addEventListener","e","preventDefault","getElementById","value"],"version":3,"file":"index.js.map","sourceRoot":"../../../"}